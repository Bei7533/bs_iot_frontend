{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      loading: false,\n      pwdType: \"password\"\n    };\n  },\n  methods: {\n    showPwd() {\n      if (this.pwdType === \"password\") {\n        this.pwdType = \"\";\n      } else {\n        this.pwdType = \"password\";\n      }\n    },\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          this.$store.dispatch(\"Login\", this.loginForm).then(response => {\n            this.loading = false;\n            let code = response.data.code;\n            if (code == 200) {\n              this.$router.push({\n                path: \"/success\",\n                query: {\n                  data: response.data.data\n                }\n              });\n            } else {\n              this.$router.push({\n                path: \"/error\",\n                query: {\n                  message: response.data.message\n                }\n              });\n            }\n          }).catch(() => {\n            this.loading = false;\n          });\n        } else {\n          console.log(\"参数验证不合法！\");\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","loginForm","username","password","loading","pwdType","methods","showPwd","handleLogin","$refs","validate","valid","$store","dispatch","then","response","code","$router","push","path","query","message","catch","console","log"],"sources":["src/views/login/Login.vue"],"sourcesContent":["<template>\n  <div>\n    <div class = \"body\">\n      <el-form\n          autocomplete=\"on\"\n          :model=\"loginForm\"\n          ref=\"loginForm\"\n          label-position=\"left\"\n      >\n        <h2 class=\"login-title color-main\">Login</h2>\n        <el-form-item prop=\"username\">\n          <el-input class = \"input-box\"\n              name=\"username\"\n              type=\"text\"\n              v-model=\"loginForm.username\"\n              autocomplete=\"on\"\n              placeholder=\"请输入用户名\"\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input class = \"input-box\"\n              name=\"password\"\n              :type=\"pwdType\"\n              @keyup.enter.native=\"handleLogin\"\n              v-model=\"loginForm.password\"\n              autocomplete=\"on\"\n              placeholder=\"请输入密码\"\n              show-password\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item style=\"margin-bottom: 60px\">\n          <el-button  class = \"login-box\"\n              type=\"primary\"\n              :loading=\"loading\"\n              @click.native.prevent=\"handleLogin\"\n          >登录</el-button>\n        </el-form-item>\n      </el-form>\n  </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      loading: false,\n      pwdType: \"password\",\n    };\n  },\n  methods: {\n    showPwd() {\n      if (this.pwdType === \"password\") {\n        this.pwdType = \"\";\n      } else {\n        this.pwdType = \"password\";\n      }\n    },\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          this.$store\n              .dispatch(\"Login\", this.loginForm)\n              .then(response => {\n                this.loading = false;\n                let code = response.data.code;\n                if (code == 200) {\n                  this.$router.push({\n                    path: \"/success\",\n                    query: { data: response.data.data }\n                  });\n                } else {\n                  this.$router.push({\n                    path: \"/error\",\n                    query: { message: response.data.message }\n                  });\n                }\n              })\n              .catch(() => {\n                this.loading = false;\n              });\n        } else {\n          console.log(\"参数验证不合法！\");\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n\n<style scoped>\n.body{\n  margin: 0;\n  padding: 0;\n  background: #fff;\n\n  color: #fff;\n  font-family: Arial;\n  font-size: 12px;\n}\n\n.login-title {\n  text-align: center;\n  width: 260px;\n  height: 35px;\n}\n\n.input-box {\n  width: 260px;\n  height: 35px;\n  background: #fff;\n  border: 1px solid #fff;\n  cursor: pointer;\n  border-radius: 2px;\n  color: #a18d6c;\n  font-family: 'Exo', sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  padding: 6px;\n  margin-top: 10px;\n}\n\n.login-box{\n  width: 260px;\n  height: 35px;\n  background: #fff;\n  border: 1px solid #fff;\n  cursor: pointer;\n  border-radius: 2px;\n  color: #a18d6c;\n  font-family: 'Exo', sans-serif;\n  font-size: 16px;\n  font-weight: 400;\n  padding: 6px;\n  margin-top: 10px;\n}\n\n\n.login-box:hover{\n  opacity: 0.8;\n}\n\n.login-box:active{\n  opacity: 0.6;\n}\n\n.input-box:focus{\n  outline: none;\n  border: 1px solid rgba(255,255,255,0.9);\n}\n\n.login-box:focus{\n  width: 260px;\n  height: 35px;\n  background: #fff;\n  outline: none;\n}\n\n::-webkit-input-placeholder{\n  color: rgba(255,255,255,0.6);\n}\n\n</style>\n"],"mappings":";AA6CA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACAC,QAAA;MACA,SAAAF,OAAA;QACA,KAAAA,OAAA;MACA;QACA,KAAAA,OAAA;MACA;IACA;IACAG,YAAA;MACA,KAAAC,KAAA,CAAAR,SAAA,CAAAS,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAP,OAAA;UACA,KAAAQ,MAAA,CACAC,QAAA,eAAAZ,SAAA,EACAa,IAAA,CAAAC,QAAA;YACA,KAAAX,OAAA;YACA,IAAAY,IAAA,GAAAD,QAAA,CAAAf,IAAA,CAAAgB,IAAA;YACA,IAAAA,IAAA;cACA,KAAAC,OAAA,CAAAC,IAAA;gBACAC,IAAA;gBACAC,KAAA;kBAAApB,IAAA,EAAAe,QAAA,CAAAf,IAAA,CAAAA;gBAAA;cACA;YACA;cACA,KAAAiB,OAAA,CAAAC,IAAA;gBACAC,IAAA;gBACAC,KAAA;kBAAAC,OAAA,EAAAN,QAAA,CAAAf,IAAA,CAAAqB;gBAAA;cACA;YACA;UACA,GACAC,KAAA;YACA,KAAAlB,OAAA;UACA;QACA;UACAmB,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}