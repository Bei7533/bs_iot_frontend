{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      username: this.$route.query.username,\n      email: '',\n      password: '',\n      activeIndex: '1',\n      activeIndex2: '1',\n      tableData: [],\n      editIndex: 0\n    };\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.$axios.post('http://localhost:8088/admin/userinfo', {\n        username: this.username\n      }).then(successResponse => {\n        if (successResponse.data.code === 200) {\n          this.email = successResponse.data.userInfo.email;\n          this.password = successResponse.data.userInfo.password;\n          this.tableData = [{\n            type: '姓名',\n            data: this.$route.query.username\n          }, {\n            type: '邮箱',\n            data: this.email\n          }, {\n            type: '密码',\n            data: this.password\n          }];\n        } else if (successResponse.data.code === 404) {\n          alert('访问用户失败');\n        }\n      }).catch(failResponse => {});\n    },\n    handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n      if (key === '1-1') {\n        this.$router.push({\n          path: '/user/userinfo',\n          query: {\n            username: this.username\n          }\n        });\n      } else if (key === '1-2') {\n        // this.$router.push({\n        //   path: '/user/edituserinfo',\n        //   query: { username: this.username }\n        // });\n      } else if (key === '2') {\n        this.$router.push({\n          path: '/user/map',\n          query: {\n            username: this.username\n          }\n        });\n      } else if (key === '3') {\n        this.$router.push({\n          path: '/user/device',\n          query: {\n            username: this.username\n          }\n        });\n      } else if (key === '4') {\n        this.$router.push({\n          path: '/user/data',\n          query: {\n            username: this.username\n          }\n        });\n      }\n    },\n    handleEdit(index, row) {\n      if (index === 0) {\n        alert('姓名不可修改');\n      } else this.editIndex = index;\n    }\n  }\n};","map":{"version":3,"names":["data","username","$route","query","email","password","activeIndex","activeIndex2","tableData","editIndex","mounted","fetchData","methods","$axios","post","then","successResponse","code","userInfo","type","alert","catch","failResponse","handleSelect","key","keyPath","console","log","$router","push","path","handleEdit","index","row"],"sources":["src/views/user/UserInfoEdit.vue"],"sourcesContent":["<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            username: this.$route.query.username,\r\n            email: '',\r\n            password: '',\r\n            activeIndex: '1',\r\n            activeIndex2: '1',\r\n            tableData: [],\r\n            editIndex: 0,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.fetchData();\r\n    },\r\n    methods: {\r\n        fetchData() {\r\n            this.$axios\r\n                .post('http://localhost:8088/admin/userinfo', {\r\n                    username: this.username,\r\n                })\r\n                .then(successResponse => {\r\n                    if (successResponse.data.code === 200) {\r\n                        this.email = successResponse.data.userInfo.email;\r\n                        this.password = successResponse.data.userInfo.password;\r\n                        this.tableData = [\r\n                            {\r\n                                type: '姓名',\r\n                                data: this.$route.query.username,\r\n                            },\r\n                            {\r\n                                type: '邮箱',\r\n                                data: this.email,\r\n                            },\r\n                            {\r\n                                type: '密码',\r\n                                data: this.password,\r\n                            }\r\n                        ]\r\n                    } else if (successResponse.data.code === 404) {\r\n                        alert('访问用户失败')\r\n                    }\r\n                })\r\n                .catch(failResponse => {\r\n                })\r\n        },\r\n\r\n        handleSelect(key, keyPath) {\r\n            console.log(key, keyPath);\r\n            if (key === '1-1') {\r\n                this.$router.push({\r\n                    path: '/user/userinfo',\r\n                    query: { username: this.username }\r\n                });\r\n            } else if (key === '1-2') {\r\n                // this.$router.push({\r\n                //   path: '/user/edituserinfo',\r\n                //   query: { username: this.username }\r\n                // });\r\n            } else if (key === '2') {\r\n                this.$router.push({\r\n                    path: '/user/map',\r\n                    query: { username: this.username }\r\n                });\r\n            } else if (key === '3') {\r\n                this.$router.push({\r\n                    path: '/user/device',\r\n                    query: { username: this.username }\r\n                });\r\n            } else if (key === '4') {\r\n                this.$router.push({\r\n                    path: '/user/data',\r\n                    query: { username: this.username }\r\n                });\r\n            }\r\n        },\r\n\r\n        handleEdit(index, row) {\r\n            if (index === 0) {\r\n                alert('姓名不可修改')\r\n            } else\r\n                this.editIndex = index;\r\n\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"body\">\r\n\r\n        <el-menu :default-active=\"activeIndex2\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\"\r\n            background-color=\"#2A7A88\" text-color=\"#fff\" active-text-color=\"#ffd04b\">\r\n            <el-submenu index=\"1\">\r\n                <template slot=\"title\">\r\n                    <i class=\"el-icon-user\"></i>\r\n                    <span>个人信息</span>\r\n                </template>\r\n                <el-menu-item index=\"1-1\">查看信息</el-menu-item>\r\n                <el-menu-item index=\"1-2\">编辑信息</el-menu-item>\r\n            </el-submenu>\r\n            <el-menu-item index=\"2\">\r\n                <template slot=\"title\">\r\n                    <i class=\"el-icon-map-location\"></i>\r\n                    <span slot=\"title\">查看地图</span>\r\n                </template>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"3\">\r\n                <i class=\"el-icon-setting\"></i>\r\n                <span slot=\"title\">设备管理</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"4\">\r\n                <i class=\"el-icon-data-line\"></i>\r\n                <span slot=\"title\">数据统计</span>\r\n            </el-menu-item>\r\n        </el-menu>\r\n        <h1 class=\"username-style\">{{ username }}</h1>\r\n        <div class=\"demo-basic--circle\" style=\"position: absolute; top: 12px; right: 150px;\">\r\n            <div class=\"block\"><el-avatar size=\"40\" icon=\"el-icon-user-solid\"></el-avatar></div>\r\n            <div class=\"block\" v-for=\"size in sizeList\" :key=\"size\">\r\n                <el-avatar size=\"size\" icon=\"el-icon-user-solid\"></el-avatar>\r\n            </div>\r\n        </div>\r\n\r\n        <el-table :data=\"tableData\" stripe class=\"table-style\">\r\n            <el-table-column label=\"编辑选项\" prop=\"type\" width=\"160\">\r\n            </el-table-column>\r\n            <el-table-column label=\"内容\" prop=\"data\" width=\"280\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"220\">\r\n                <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n            </el-table-column>\r\n\r\n        </el-table>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.body {\r\n    position: absolute;\r\n    top: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n    bottom: 0px;\r\n    width: auto;\r\n    height: auto;\r\n    background-image: url(\"../../assets/userbackground.png\");\r\n    background-size: cover;\r\n    z-index: 0;\r\n}\r\n\r\n.username-style {\r\n    position: absolute;\r\n    top: 2px;\r\n    right: 65px;\r\n    font-size: 25px;\r\n    color: #fff;\r\n}\r\n\r\n.table-style {\r\n    position: absolute;\r\n    top: 40%;\r\n    left: 42%;\r\n    float: left;\r\n    font-family: 'Exo', sans-serif;\r\n    font-size: 18px;\r\n}\r\n</style>\r\n"],"mappings":";AACA;EACAA,KAAA;IACA;MACAC,QAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,QAAA;MACAG,KAAA;MACAC,QAAA;MACAC,WAAA;MACAC,YAAA;MACAC,SAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,KAAAE,MAAA,CACAC,IAAA;QACAb,QAAA,OAAAA;MACA,GACAc,IAAA,CAAAC,eAAA;QACA,IAAAA,eAAA,CAAAhB,IAAA,CAAAiB,IAAA;UACA,KAAAb,KAAA,GAAAY,eAAA,CAAAhB,IAAA,CAAAkB,QAAA,CAAAd,KAAA;UACA,KAAAC,QAAA,GAAAW,eAAA,CAAAhB,IAAA,CAAAkB,QAAA,CAAAb,QAAA;UACA,KAAAG,SAAA,IACA;YACAW,IAAA;YACAnB,IAAA,OAAAE,MAAA,CAAAC,KAAA,CAAAF;UACA,GACA;YACAkB,IAAA;YACAnB,IAAA,OAAAI;UACA,GACA;YACAe,IAAA;YACAnB,IAAA,OAAAK;UACA,EACA;QACA,WAAAW,eAAA,CAAAhB,IAAA,CAAAiB,IAAA;UACAG,KAAA;QACA;MACA,GACAC,KAAA,CAAAC,YAAA,KACA;IACA;IAEAC,aAAAC,GAAA,EAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,GAAA,EAAAC,OAAA;MACA,IAAAD,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA3B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA,WAAAuB,GAAA;QACA;QACA;QACA;QACA;MAAA,CACA,UAAAA,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA3B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA,WAAAuB,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA3B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA,WAAAuB,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA3B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA;IACA;IAEA8B,WAAAC,KAAA,EAAAC,GAAA;MACA,IAAAD,KAAA;QACAZ,KAAA;MACA,OACA,KAAAX,SAAA,GAAAuB,KAAA;IAEA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}