{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport user from '@/store/modules/user';\nexport default {\n  data() {\n    return {\n      username: this.$route.query.username,\n      email: '',\n      lastLoginTime: '',\n      activeIndex: '1',\n      activeIndex2: '1',\n      deviceNum: '',\n      userDesciption: ''\n    };\n  },\n  mounted() {\n    this.fetchData(); // 在组件挂载后调用发送请求的方法\n  },\n\n  methods: {\n    fetchData() {\n      this.$axios.post('http://localhost:8088/admin/userinfo', {\n        username: this.username\n      }).then(successResponse => {\n        if (successResponse.data.code === 200) {\n          this.email = successResponse.data.userInfo.email;\n          this.userDesciption = successResponse.data.userInfo.user_descript;\n          this.lastLoginTime = successResponse.data.message;\n          // alert(successResponse.user.email)\n        } else if (successResponse.data.code === 404) {\n          alert('访问用户失败');\n        }\n      }).catch(failResponse => {});\n    },\n    handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n      if (key === '1-1') {\n        // / alert('1-1')\n        // this.$router.push({\n        //   path: '/user/userinfo',\n        //   query: { username: this.username }\n        // });/\n      } else if (key === '1-2') {\n        this.$router.push({\n          path: '/user/userinfoedit',\n          query: {\n            username: this.username\n          }\n        });\n      } else if (key === '2') {\n        this.$router.push({\n          path: '/user/map',\n          query: {\n            username: this.username\n          }\n        });\n      } else if (key === '3') {\n        this.$router.push({\n          path: '/user/device',\n          query: {\n            username: this.username\n          }\n        });\n      } else if (key === '4') {\n        this.$router.push({\n          path: '/user/data',\n          query: {\n            username: this.username\n          }\n        });\n      }\n    },\n    handleExit() {\n      this.$router.push({\n        path: '/login'\n      });\n    },\n    handleEdit1() {\n      console.log('edit');\n      this.$router.push({\n        path: '/user/userinfoedit',\n        query: {\n          username: this.username\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["user","data","username","$route","query","email","lastLoginTime","activeIndex","activeIndex2","deviceNum","userDesciption","mounted","fetchData","methods","$axios","post","then","successResponse","code","userInfo","user_descript","message","alert","catch","failResponse","handleSelect","key","keyPath","console","log","$router","push","path","handleExit","handleEdit1"],"sources":["src/views/user/UserInfo.vue"],"sourcesContent":["<script>\r\nimport user from '@/store/modules/user';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: this.$route.query.username,\r\n      email: '',\r\n      lastLoginTime: '',\r\n      activeIndex: '1',\r\n      activeIndex2: '1',\r\n      deviceNum: '',\r\n      userDesciption: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchData(); // 在组件挂载后调用发送请求的方法\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      this.$axios\r\n        .post('http://localhost:8088/admin/userinfo', {\r\n          username: this.username,\r\n        })\r\n        .then(successResponse => {\r\n          if (successResponse.data.code === 200) {\r\n            this.email = successResponse.data.userInfo.email;\r\n            this.userDesciption = successResponse.data.userInfo.user_descript;\r\n            this.lastLoginTime = successResponse.data.message;\r\n            // alert(successResponse.user.email)\r\n          } else if (successResponse.data.code === 404) {\r\n            alert('访问用户失败')\r\n          }\r\n        })\r\n        .catch(failResponse => {\r\n        });\r\n    },\r\n\r\n    handleSelect(key, keyPath) {\r\n      console.log(key, keyPath);\r\n      if (key === '1-1') {\r\n        // / alert('1-1')\r\n        // this.$router.push({\r\n        //   path: '/user/userinfo',\r\n        //   query: { username: this.username }\r\n        // });/\r\n      } else if (key === '1-2') {\r\n        this.$router.push({\r\n          path: '/user/userinfoedit',\r\n          query: { username: this.username }\r\n        });\r\n      } else if (key === '2') {\r\n        this.$router.push({\r\n          path: '/user/map',\r\n          query: { username: this.username }\r\n        });\r\n      } else if (key === '3') {\r\n        this.$router.push({\r\n          path: '/user/device',\r\n          query: { username: this.username }\r\n        });\r\n      } else if (key === '4') {\r\n        this.$router.push({\r\n          path: '/user/data',\r\n          query: { username: this.username }\r\n        });\r\n      }\r\n    },\r\n    handleExit() {\r\n      this.$router.push({\r\n        path: '/login',\r\n      });\r\n    },\r\n\r\n    handleEdit1() {\r\n      console.log('edit');\r\n      this.$router.push({\r\n        path: '/user/userinfoedit',\r\n        query: { username: this.username }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n<template>\r\n  <div class=\"body\">\r\n    <div>\r\n\r\n      <el-menu :default-active=\"activeIndex2\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"handleSelect\"\r\n        background-color=\"#2A7A88\" text-color=\"#fff\" active-text-color=\"#ffd04b\">\r\n        <el-submenu index=\"1\">\r\n          <template slot=\"title\">\r\n            <i class=\"el-icon-user\"></i>\r\n            <span>个人信息</span>\r\n          </template>\r\n          <el-menu-item index=\"1-1\">查看信息</el-menu-item>\r\n          <el-menu-item index=\"1-2\">编辑信息</el-menu-item>\r\n        </el-submenu>\r\n        <el-menu-item index=\"2\">\r\n          <template slot=\"title\">\r\n            <i class=\"el-icon-map-location\"></i>\r\n            <span slot=\"title\">查看地图</span>\r\n          </template>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"3\">\r\n          <i class=\"el-icon-setting\"></i>\r\n          <span slot=\"title\">设备管理</span>\r\n        </el-menu-item>\r\n        <el-menu-item index=\"4\">\r\n          <i class=\"el-icon-data-line\"></i>\r\n          <span slot=\"title\">数据统计</span>\r\n        </el-menu-item>\r\n        <el-button size=\"mini\" @click=\"exitVisible = true\" class=\"exit-style\">退出登录</el-button>\r\n\r\n      </el-menu>\r\n      <el-dialog title=\"确认退出登录？\" :visible.sync=\"exitVisible\" width=\"30%\">\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"exitVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"handleExit()\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <h1 class=\"username1-style\">{{ username }}</h1>\r\n      <div class=\"demo-basic--circle\" style=\"position: absolute; top: 12px; right: 200px;\">\r\n        <div class=\"block\"><el-avatar size=\"40\" icon=\"el-icon-user-solid\"></el-avatar></div>\r\n        <div class=\"block\" v-for=\"size in sizeList\" :key=\"size\">\r\n          <el-avatar :size=\"size\" icon=\"el-icon-user-solid\"></el-avatar>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"userinfo-style\">\r\n      <el-descriptions style=\"font-size: 28px; \">\r\n        <el-descriptions-item label=\"用户信息\"></el-descriptions-item>\r\n      </el-descriptions>\r\n      <el-descriptions style=\"font-size: 20px; \">\r\n        <el-descriptions-item label=\"用户名\">{{ username }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"邮箱\">{{ email }}</el-descriptions-item>\r\n      </el-descriptions>\r\n\r\n      <el-descriptions style=\"font-size: 20px; \">\r\n        <el-descriptions-item label=\"个人描述\">{{ userDesciption }}</el-descriptions-item>\r\n      </el-descriptions>\r\n      <el-descriptions style=\"font-size: 20px; \">\r\n        <el-descriptions-item label=\"上次登录时间\">{{ lastLoginTime }}</el-descriptions-item>\r\n      </el-descriptions>\r\n      <br><br>\r\n\r\n      <el-button @click=\"handleEdit1()\">编辑信息</el-button>\r\n\r\n    </div>\r\n    <br><br>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.body {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  width: auto;\r\n  height: auto;\r\n  background-image: url(\"../../assets/userbackground.png\");\r\n  background-size: cover;\r\n  z-index: 0;\r\n}\r\n\r\n.username1-style {\r\n  position: absolute;\r\n  top: 2px;\r\n  right: 130px;\r\n  font-size: 25px;\r\n  color: #fff;\r\n}\r\n\r\n.userinfo-style {\r\n  position: absolute;\r\n  top: 30%;\r\n  left: 45%;\r\n  width: 1000px;\r\n}\r\n\r\n.exit-style {\r\n  position: absolute;\r\n  top: 17px;\r\n  right: 12px;\r\n}\r\n</style>\r\n"],"mappings":";AACA,OAAAA,IAAA;AAEA;EACAC,KAAA;IACA;MACAC,QAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,QAAA;MACAG,KAAA;MACAC,aAAA;MACAC,WAAA;MACAC,YAAA;MACAC,SAAA;MACAC,cAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;;EACAC,OAAA;IACAD,UAAA;MACA,KAAAE,MAAA,CACAC,IAAA;QACAb,QAAA,OAAAA;MACA,GACAc,IAAA,CAAAC,eAAA;QACA,IAAAA,eAAA,CAAAhB,IAAA,CAAAiB,IAAA;UACA,KAAAb,KAAA,GAAAY,eAAA,CAAAhB,IAAA,CAAAkB,QAAA,CAAAd,KAAA;UACA,KAAAK,cAAA,GAAAO,eAAA,CAAAhB,IAAA,CAAAkB,QAAA,CAAAC,aAAA;UACA,KAAAd,aAAA,GAAAW,eAAA,CAAAhB,IAAA,CAAAoB,OAAA;UACA;QACA,WAAAJ,eAAA,CAAAhB,IAAA,CAAAiB,IAAA;UACAI,KAAA;QACA;MACA,GACAC,KAAA,CAAAC,YAAA,KACA;IACA;IAEAC,aAAAC,GAAA,EAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,GAAA,EAAAC,OAAA;MACA,IAAAD,GAAA;QACA;QACA;QACA;QACA;QACA;MAAA,CACA,UAAAA,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA5B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA,WAAAwB,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA5B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA,WAAAwB,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA5B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA,WAAAwB,GAAA;QACA,KAAAI,OAAA,CAAAC,IAAA;UACAC,IAAA;UACA5B,KAAA;YAAAF,QAAA,OAAAA;UAAA;QACA;MACA;IACA;IACA+B,WAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;QACAC,IAAA;MACA;IACA;IAEAE,YAAA;MACAN,OAAA,CAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;QACA5B,KAAA;UAAAF,QAAA,OAAAA;QAAA;MACA;IACA;EACA;AAGA"},"metadata":{},"sourceType":"module","externalDependencies":[]}