{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Cookies from 'js-cookie';\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      userName: '',\n      passWord: ''\n    };\n  },\n  created() {},\n  methods: {\n    login: function () {\n      const fd = new FormData();\n      fd.append('userName', this.userName);\n      fd.append('passWord', this.passWord);\n      const config = {\n        headers: {\n          'Content-type': 'multipart/form-data'\n        }\n      };\n      this.$axios.post('user/login', fd, config).then(res => {\n        alert(res.data.msg);\n        if (res.data.code === 200) {\n          Cookies.set('userName', fd.get('userName'));\n          this.$router.push({\n            path: '/success'\n          });\n        } else {\n          // todo: 处理登录不成功的情况\n          this.$router.push({\n            path: '/error'\n          });\n        }\n      }).catch(res => {\n        alert(res.data.msg);\n      });\n    }\n  }\n};","map":{"version":3,"names":["Cookies","name","data","userName","passWord","created","methods","login","fd","FormData","append","config","headers","$axios","post","then","res","alert","msg","code","set","get","$router","push","path","catch"],"sources":["src/views/login/Login.vue"],"sourcesContent":["<script>\n\nimport Cookies from 'js-cookie'\nexport default {\n\n  name: 'Login',\n  data () {\n    return {\n      userName: '',\n      passWord: ''\n    }\n  },\n  created () {\n  },\n  methods: {\n    login: function () {\n      const fd = new FormData()\n      fd.append('userName', this.userName)\n      fd.append('passWord', this.passWord)\n\n      const config = {\n        headers: {\n          'Content-type': 'multipart/form-data'\n        }\n      }\n\n      this.$axios.post('user/login', fd, config).then(res => {\n        alert(res.data.msg)\n        if (res.data.code === 200) {\n          Cookies.set('userName', fd.get('userName'))\n          this.$router.push({\n            path: '/success'\n          })\n        } else {\n          // todo: 处理登录不成功的情况\n          this.$router.push({\n            path: '/error',\n            \n          })\n        }\n      }).catch(res => {\n        alert(res.data.msg)\n      })\n    }\n  }\n}\n</script>\n\n<template>\n  <div>\n    用户名: <input type = \"text\" v-model = \"userName\" placeholder=\"请输入用户名\" />\n    <br><br>\n    密码: <input type = \"password\" v-model = \"passWord\" placeholder=\"请输入密码\" />\n    <br><br>\n    <button @click=\"login()\">登录</button>\n\n    <router-link to=\"/register\">\n      <span style=\"text-align: center; font-size: 14px;\">账号注册</span>\n    </router-link>\n\n  </div>\n</template>\n\n<style scoped lang=\"scss\"></style>\n"],"mappings":";AAEA,OAAAA,OAAA;AACA;EAEAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA,GACA;EACAC,OAAA;IACAC,KAAA,WAAAA,CAAA;MACA,MAAAC,EAAA,OAAAC,QAAA;MACAD,EAAA,CAAAE,MAAA,kBAAAP,QAAA;MACAK,EAAA,CAAAE,MAAA,kBAAAN,QAAA;MAEA,MAAAO,MAAA;QACAC,OAAA;UACA;QACA;MACA;MAEA,KAAAC,MAAA,CAAAC,IAAA,eAAAN,EAAA,EAAAG,MAAA,EAAAI,IAAA,CAAAC,GAAA;QACAC,KAAA,CAAAD,GAAA,CAAAd,IAAA,CAAAgB,GAAA;QACA,IAAAF,GAAA,CAAAd,IAAA,CAAAiB,IAAA;UACAnB,OAAA,CAAAoB,GAAA,aAAAZ,EAAA,CAAAa,GAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;YACAC,IAAA;UACA;QACA;UACA;UACA,KAAAF,OAAA,CAAAC,IAAA;YACAC,IAAA;UAEA;QACA;MACA,GAAAC,KAAA,CAAAT,GAAA;QACAC,KAAA,CAAAD,GAAA,CAAAd,IAAA,CAAAgB,GAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}